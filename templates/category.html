{% extends 'base.html' %}
{% block content %}
<div class="container">

  <!-- Category Banner -->
  {% if category.banner_url %}
    <div class="category-banner">
      <img src="{{ url_for('static', filename=category.banner_url) }}" alt="{{ category.name }} banner">
    </div>
  {% endif %}

  <h2>{{ category.name }}</h2>

  <div class="product-grid">
    {% for product in category.products %}
      <div class="product-card">
        {% if product.image_url %}
          <img src="{{ url_for('static', filename=product.image_url) }}" alt="{{ product.name }}">
        {% endif %}
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>
        <p><strong>â‚¬{{ '%.2f'|format(product.price) }}</strong></p>
        <form method="POST" action="{{ url_for('add_to_cart', product_id=product.id) }}">
          <button type="submit">Add to Cart</button>
        </form>
      </div>
    {% endfor %}

    {% if not category.products %}
      <p>No products in this category yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
