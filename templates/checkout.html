{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h2>Checkout</h2>

  {% if products %}
    <div class="checkout-summary">
      <h3>Order Summary</h3>
      <ul>
        {% for item in products %}
          <li>{{ item.name }} (x{{ item.quantity }}) — €{{ '%.2f'|format(item.subtotal) }}</li>
        {% endfor %}
      </ul>
      <p><strong>Total: €{{ '%.2f'|format(total) }}</strong></p>
    </div>

    <div class="checkout-form">
      <h3>Customer Details</h3>
      <form method="POST">
        <label for="customer_name">Full Name</label>
        <input type="text" id="customer_name" name="customer_name" required>

        <label for="customer_email">Email</label>
        <input type="email" id="customer_email" name="customer_email" required>

        <label for="customer_address">Address</label>
        <textarea id="customer_address" name="customer_address" required></textarea>

        <label for="customer_phone">Phone (optional)</label>
        <input type="text" id="customer_phone" name="customer_phone">

        <button type="submit" class="btn">Place Order</button>
      </form>
    </div>
  {% else %}
    <p>Your cart is empty. <a href="{{ url_for('view_products') }}">Shop now</a>.</p>
  {% endif %}
</div>
{% endblock %}
